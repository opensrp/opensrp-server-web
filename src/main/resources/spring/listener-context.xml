<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-4.3.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.3.xsd">

    <context:component-scan base-package="org.opensrp.web.listener"/>
    <context:annotation-config/>

    <beans profile="dhis2-sync-vaccine-tracker">
        <bean id="dhis2-sync-vaccine-tracker" class="org.opensrp.web.listener.DHIS2ConnectorListener"/>
        <task:scheduled-tasks scheduler="dhis2Scheduler">
            <task:scheduled ref="dhis2-sync-vaccine-tracker" method="vaccinationAggregatorDataCountForSendingToDHIS2"
                            cron="0 30 23 28-31 * ?"/>
        </task:scheduled-tasks>
        <task:scheduler pool-size="1" id="dhis2Scheduler"/>
        <task:executor pool-size="1" id="dhis2Executor"/>
        <task:annotation-driven executor="dhis2Executor" scheduler="dhis2Scheduler"/>
    </beans>

    <beans profile="rapidpro">
        <bean id="rapidProListener" class="org.opensrp.web.listener.RapidProListener"/>
        <task:scheduled-tasks scheduler="rapidProScheduler">
            <task:scheduled ref="rapidProListener" method="requestRapidProContacts"
                            cron="${rapidpro.listener.cron.schedule}"/>
        </task:scheduled-tasks>
        <task:scheduler pool-size="1" id="rapidProScheduler"/>
        <task:executor pool-size="1" id="rapidProExecutor"/>
        <task:annotation-driven executor="rapidProExecutor" scheduler="rapidProScheduler"/>
    </beans>

</beans>
